"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_soft-nav_soft-nav_ts"],{15345:(t,e,n)=>{n.d(e,{N:()=>a,x:()=>o});var r=n(86283);function a(t){o(c(t))}function o(t){i(t)}function i(t){let e=r.n4?.querySelector("#js-global-screen-reader-notice");e&&(e.textContent===t?e.textContent=`${t}\u00A0`:e.textContent=t)}function c(t){return(t.getAttribute("aria-label")||t.innerText||"").trim()}},4412:(t,e,n)=>{n.d(e,{C:()=>o,x:()=>a});var r=n(86283);let a=r.n4?.readyState==="interactive"||r.n4?.readyState==="complete"?Promise.resolve():new Promise(t=>{r.n4?.addEventListener("DOMContentLoaded",()=>{t()})}),o=r.n4?.readyState==="complete"?Promise.resolve():new Promise(t=>{r.iG?.addEventListener("load",t)})},46426:(t,e,n)=>{n.d(e,{$:()=>u,c:()=>i});var r=n(15205);let a=(0,r.Z)(o);function o(){return(document.head?.querySelector('meta[name="enabled-features"]')?.content||"").split(",")}let i=(0,r.Z)(c);function c(t){return -1!==a().indexOf(t)}let u={isFeatureEnabled:i}},53729:(t,e,n)=>{n.d(e,{A7:()=>f,ko:()=>s,q1:()=>c});var r=n(15205),a=n(86283);let o=(0,r.Z)(i);function i(){return a.n4?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}let c=(0,r.Z)(u);function u(){return a.n4?.head?.querySelector('meta[name="is-private-instance"]')?.content==="true"}let s=(0,r.Z)(l);function l(){return"enterprise"===o()}let f="webpack"},44544:(t,e,n)=>{n.d(e,{Z:()=>i,_:()=>c});var r=n(86283),a=n(71643);let o=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function i(t,e={throwQuotaErrorsOnSet:!1},n=r.iG,i=t=>t,c=t=>t){let u;try{if(!n)throw Error();u=n[t]||new o}catch{u=new o}let{throwQuotaErrorsOnSet:s}=e;function l(t){e.sendCacheStats&&(0,a.b)({incrementKey:t})}function f(t){try{if(u.removeItem(t),e.ttl){let e=`${t}:expiry`;u.removeItem(e)}}catch(t){}}return{getItem:function(t,e=new Date().getTime()){try{let n=u.getItem(t);if(!n)return null;let r=`${t}:expiry`,a=Number(u.getItem(r));if(a&&e>a)return f(t),f(r),l("SAFE_STORAGE_VALUE_EXPIRED"),null;return l("SAFE_STORAGE_VALUE_WITHIN_TTL"),i(n)}catch(t){return null}},setItem:function(t,n,r=new Date().getTime()){try{if(u.setItem(t,c(n)),e.ttl){let n=`${t}:expiry`,a=r+e.ttl;u.setItem(n,a.toString())}}catch(t){if(s&&t instanceof Error&&t.message.toLowerCase().includes("quota"))throw t}},removeItem:f,clear:u.clear,key:u.key,get length(){return u.length}}}function c(t){return i(t,{throwQuotaErrorsOnSet:!1},window,JSON.parse,JSON.stringify)}},39629:(t,e,n)=>{n.d(e,{LS:()=>o,cl:()=>i,rV:()=>a});var r=n(44544);let{getItem:a,setItem:o,removeItem:i}=(0,r.Z)("sessionStorage")},68202:(t,e,n)=>{n.d(e,{CF:()=>c,QE:()=>d,QW:()=>SoftNavErrorEvent,$g:()=>SoftNavSuccessEvent,FP:()=>g,r_:()=>p,Nb:()=>F,Gj:()=>k,wP:()=>G,OE:()=>B,sj:()=>D,Yl:()=>m,RN:()=>J,TL:()=>R,Ak:()=>U,U6:()=>_,cY:()=>Q,LD:()=>S,BT:()=>h,u5:()=>w});var r=n(39629);let a=class SoftNavEvent extends Event{constructor(t,e){super(e),this.mechanism=t}};let SoftNavStartEvent=class SoftNavStartEvent extends a{constructor(t){super(t,d.START)}};let SoftNavSuccessEvent=class SoftNavSuccessEvent extends a{constructor(t,e){super(t,d.SUCCESS),this.visitCount=e}};let SoftNavErrorEvent=class SoftNavErrorEvent extends a{constructor(t,e){super(t,d.ERROR),this.error=e}};let SoftNavEndEvent=class SoftNavEndEvent extends a{constructor(t){super(t,d.END)}};var o=n(71643);let i="stats:soft-nav-duration",c={turbo:"TURBO",react:"REACT","turbo.frame":"FRAME",ui:"UI",hard:"HARD"};function u(){performance.mark(i)}function s(){if(0===performance.getEntriesByName(i).length)return null;performance.measure(i,i);let t=performance.getEntriesByName(i),e=t.pop();return e?e.duration:null}function l(t){(0,o.b)({turboFailureReason:t,turboStartUrl:G(),turboEndUrl:window.location.href})}function f(){let t=s();if(!t)return;let e=c[k()],n=Math.round(t);e===c.react&&document.dispatchEvent(new CustomEvent("staffbar-update",{detail:{duration:n}})),(0,o.b)({requestUrl:window.location.href,softNavigationTiming:{mechanism:e,destination:F()||"rails",duration:n,initiator:$()||"rails"}})}let d=Object.freeze({INITIAL:"soft-nav:initial",START:"soft-nav:start",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",FRAME_UPDATE:"soft-nav:frame-update",END:"soft-nav:end",RENDER:"soft-nav:render",PROGRESS_BAR:{START:"soft-nav:progress-bar:start",END:"soft-nav:progress-bar:end"}}),v="reload",E=0;function m(){E=0,document.dispatchEvent(new Event(d.INITIAL)),O()}function S(t){D()||(y(),document.dispatchEvent(new SoftNavStartEvent(t)),_(t),V(),q(),u())}function h(t={}){T(t)&&(E+=1,document.dispatchEvent(new SoftNavSuccessEvent(k(),E)),g(t))}function p(t={}){if(!T(t))return;E=0;let e=P()||v;document.dispatchEvent(new SoftNavErrorEvent(k(),e)),N(),l(e),O()}function g(t={}){T(t)&&(N(),document.dispatchEvent(new SoftNavEndEvent(k())),x())}function R(t={}){T(t)&&(f(),document.dispatchEvent(new Event(d.RENDER)))}function w(){document.dispatchEvent(new Event(d.FRAME_UPDATE))}function y(){document.dispatchEvent(new Event(d.PROGRESS_BAR.START))}function N(){document.dispatchEvent(new Event(d.PROGRESS_BAR.END))}function T({skipIfGoingToReactApp:t,allowedMechanisms:e=[]}={}){return D()&&(0===e.length||e.includes(k()))&&(!t||!F())}let A="soft-nav:fail",L="soft-nav:fail-referrer",b="soft-nav:referrer",I="soft-nav:marker",C="soft-nav:react-app-name";function O(){(0,r.LS)(I,"0"),(0,r.cl)(b),(0,r.cl)(A),(0,r.cl)(L),(0,r.cl)(C)}function _(t){(0,r.LS)(I,t)}function x(){(0,r.LS)(I,"0")}function D(){let t=(0,r.rV)(I);return t&&"0"!==t}function k(){return(0,r.rV)(I)}function B(){return Boolean(P())}function P(){return(0,r.rV)(A)}function U(t){(0,r.LS)(A,t||v),(0,r.LS)(L,window.location.href)}function q(){(0,r.LS)(b,window.location.href)}function G(){return(0,r.rV)(b)||document.referrer}function V(){let t=F();t?(0,r.LS)(C,t):(0,r.cl)(C)}function $(){return(0,r.rV)(C)}function F(){return document.querySelector('meta[name="ui"]')?"ui":document.querySelector("react-app")?.getAttribute("app-name")}var Z=n(15345),j=n(86283);let M=Object.freeze({INITIAL:"soft-nav:external:initial",START:"soft-nav:external:start",SUCCESS:"soft-nav:external:success",ERROR:"soft-nav:external:error",RENDER:"soft-nav:external:render"});function Q(){j.n4?.addEventListener(d.SUCCESS,function(t){"turbo"===t.mechanism&&(0,Z.x)(`${document.title}`)}),j.n4?.addEventListener(M.INITIAL,m),j.n4?.addEventListener(M.START,t=>{S(t.detail.mechanism)}),j.n4?.addEventListener(M.SUCCESS,()=>h()),j.n4?.addEventListener(M.ERROR,()=>p()),j.n4?.addEventListener(M.RENDER,()=>R())}function J(){"undefined"!=typeof navigation&&"undefined"!=typeof NavigateEvent&&"function"==typeof NavigateEvent.prototype?.intercept&&document.addEventListener(d.PROGRESS_BAR.START,()=>{let t=new Promise(t=>{document.addEventListener(d.PROGRESS_BAR.END,t,{once:!0})});navigation.addEventListener("navigate",e=>{e.canIntercept&&e.intercept({scroll:"manual",handler:()=>(history.replaceState(navigation.currentEntry.getState(),"",location.href),t)})},{once:!0}),navigation.navigate(location.href,{history:"replace",state:history.state})})}},71643:(t,e,n)=>{n.d(e,{B:()=>S,b:()=>u});var r=n(86283),a=n(4412),o=n(53729),i=n(46426);let c=[];function u(t,e=!1){!0!==(0,i.c)("BROWSER_STATS_DISABLED")&&(void 0===t.timestamp&&(t.timestamp=new Date().getTime()),t.loggedIn=m(),t.staff=S(),t.bundler=o.A7,c.push(t),e?f():l())}let s=null;async function l(){await a.C,null==s&&(s=window.requestIdleCallback(f))}function f(){if(s=null,!c.length)return;let t=r.n4?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(!t)return;let e=d(c);for(let n of e)E(t,`{"stats": [${n.join(",")}] }`);c=[]}function d(t){let e=[],n=t.map(t=>JSON.stringify(t));for(;n.length>0;)e.push(v(n));return e}function v(t){let e=t.shift(),n=[e],r=e.length;for(;t.length>0&&r<=65536;){let e=t[0].length;if(r+e<=65536){let a=t.shift();n.push(a),r+=e}else break}return n}function E(t,e){try{navigator.sendBeacon&&navigator.sendBeacon(t,e)}catch{}}function m(){return!!r.n4?.head?.querySelector('meta[name="user-login"]')?.content}function S(){return!!r.n4?.head?.querySelector('meta[name="user-staff"]')?.content}r.n4?.addEventListener("pagehide",f),r.n4?.addEventListener("visibilitychange",f)}}]);
//# sourceMappingURL=ui_packages_soft-nav_soft-nav_ts-b880608fec88.js.map